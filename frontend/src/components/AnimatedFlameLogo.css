/* Animated Flame Logo Styles */
.animated-flame-container {
  position: relative;
  display: inline-block;
  transform-origin: center bottom;
}

.animated-flame-logo {
  filter: drop-shadow(0 0 20px rgba(255, 107, 53, 0.6));
  transform-origin: center bottom;
  transition: transform 0.3s ease;
}

/* Main Flame Body - The largest flame segment */
.flame-main {
  transform-origin: 50% 90%;
  animation: flameMainFlicker 2.8s ease-in-out infinite,
             flameMainDance 3.5s ease-in-out infinite,
             flameMainGlow 2s ease-in-out infinite alternate;
}

/* Middle Flame Fragment - Right side fragment */
.flame-middle {
  transform-origin: 30% 100%;
  animation: flameMiddleFlicker 2.3s ease-in-out infinite,
             flameMiddleSway 3s ease-in-out infinite,
             flameMiddleStretch 2.7s ease-in-out infinite;
}

/* Small Flame Fragment - Detached fragment */
.flame-small {
  transform-origin: 80% 100%;
  animation: flameSmallFlicker 1.8s ease-in-out infinite,
             flameSmallFloat 2.5s ease-in-out infinite,
             flameSmallWobble 3.2s ease-in-out infinite;
}

/* Startup Animation States */
.animated-flame-container.startup .flame-main {
  animation: startupIgniteMain 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards,
             flameMainFlicker 2.8s ease-in-out 2.5s infinite,
             flameMainDance 3.5s ease-in-out 3s infinite;
}

.animated-flame-container.startup .flame-middle {
  animation: startupIgniteMiddle 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.3s forwards,
             flameMiddleFlicker 2.3s ease-in-out 3s infinite,
             flameMiddleSway 3s ease-in-out 3.2s infinite;
}

.animated-flame-container.startup .flame-small {
  animation: startupIgniteSmall 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.6s forwards,
             flameSmallFlicker 1.8s ease-in-out 3.5s infinite,
             flameSmallFloat 2.5s ease-in-out 3.7s infinite;
}

/* Keyframe Animations */

/* Main Flame Animations */
@keyframes flameMainFlicker {
  0%, 100% {
    opacity: 1;
    transform: scaleX(1) scaleY(1);
  }
  25% {
    opacity: 0.95;
    transform: scaleX(0.98) scaleY(1.02);
  }
  50% {
    opacity: 0.98;
    transform: scaleX(1.01) scaleY(0.99);
  }
  75% {
    opacity: 0.96;
    transform: scaleX(0.99) scaleY(1.01);
  }
}

@keyframes flameMainDance {
  0%, 100% {
    transform: rotate(0deg) translateX(0);
  }
  20% {
    transform: rotate(-0.5deg) translateX(-0.5px);
  }
  40% {
    transform: rotate(0.3deg) translateX(0.3px);
  }
  60% {
    transform: rotate(-0.2deg) translateX(-0.2px);
  }
  80% {
    transform: rotate(0.4deg) translateX(0.4px);
  }
}

@keyframes flameMainGlow {
  0% {
    filter: brightness(1) drop-shadow(0 0 15px rgba(255, 107, 53, 0.6));
  }
  100% {
    filter: brightness(1.1) drop-shadow(0 0 25px rgba(255, 107, 53, 0.8));
  }
}

/* Middle Flame Animations */
@keyframes flameMiddleFlicker {
  0%, 100% {
    opacity: 0.9;
    transform: scale(1);
  }
  15% {
    opacity: 0.85;
    transform: scale(0.95);
  }
  30% {
    opacity: 0.92;
    transform: scale(1.03);
  }
  45% {
    opacity: 0.88;
    transform: scale(0.97);
  }
  60% {
    opacity: 0.94;
    transform: scale(1.02);
  }
  75% {
    opacity: 0.87;
    transform: scale(0.98);
  }
}

@keyframes flameMiddleSway {
  0%, 100% {
    transform: skewX(0deg) translateX(0);
  }
  25% {
    transform: skewX(-1deg) translateX(-0.8px);
  }
  50% {
    transform: skewX(0.5deg) translateX(0.5px);
  }
  75% {
    transform: skewX(-0.8deg) translateX(-0.6px);
  }
}

@keyframes flameMiddleStretch {
  0%, 100% {
    transform: scaleY(1) scaleX(1);
  }
  50% {
    transform: scaleY(1.08) scaleX(0.96);
  }
}

/* Small Flame Animations */
@keyframes flameSmallFlicker {
  0%, 100% {
    opacity: 0.85;
    transform: scale(1);
  }
  20% {
    opacity: 0.75;
    transform: scale(0.92);
  }
  40% {
    opacity: 0.88;
    transform: scale(1.05);
  }
  60% {
    opacity: 0.8;
    transform: scale(0.95);
  }
  80% {
    opacity: 0.9;
    transform: scale(1.02);
  }
}

@keyframes flameSmallFloat {
  0%, 100% {
    transform: translateY(0) translateX(0);
  }
  25% {
    transform: translateY(-1px) translateX(0.5px);
  }
  50% {
    transform: translateY(-2px) translateX(-0.3px);
  }
  75% {
    transform: translateY(-1px) translateX(0.4px);
  }
}

@keyframes flameSmallWobble {
  0%, 100% {
    transform: rotate(0deg);
  }
  33% {
    transform: rotate(1.5deg);
  }
  66% {
    transform: rotate(-1.2deg);
  }
}

/* Startup Ignition Animations */
@keyframes startupIgniteMain {
  0% {
    opacity: 0;
    transform: scaleY(0.1) scaleX(1.2);
    filter: blur(3px);
  }
  30% {
    opacity: 0.3;
    transform: scaleY(0.4) scaleX(1.15);
    filter: blur(2px);
  }
  60% {
    opacity: 0.7;
    transform: scaleY(0.8) scaleX(1.08);
    filter: blur(1px);
  }
  85% {
    opacity: 0.9;
    transform: scaleY(0.95) scaleX(1.02);
    filter: blur(0px);
  }
  100% {
    opacity: 1;
    transform: scaleY(1) scaleX(1);
    filter: blur(0px);
  }
}

@keyframes startupIgniteMiddle {
  0% {
    opacity: 0;
    transform: scale(0) rotate(-10deg);
  }
  20% {
    opacity: 0.2;
    transform: scale(0.3) rotate(-7deg);
  }
  50% {
    opacity: 0.6;
    transform: scale(0.7) rotate(-4deg);
  }
  75% {
    opacity: 0.85;
    transform: scale(0.9) rotate(-2deg);
  }
  100% {
    opacity: 0.9;
    transform: scale(1) rotate(0deg);
  }
}

@keyframes startupIgniteSmall {
  0% {
    opacity: 0;
    transform: scale(0) translateY(10px);
  }
  25% {
    opacity: 0.3;
    transform: scale(0.4) translateY(7px);
  }
  50% {
    opacity: 0.6;
    transform: scale(0.7) translateY(4px);
  }
  75% {
    opacity: 0.8;
    transform: scale(0.85) translateY(2px);
  }
  100% {
    opacity: 0.85;
    transform: scale(1) translateY(0);
  }
}

/* Enhanced Glow Animation for the whole logo */
.animated-flame-logo.animated {
  animation: logoGlow 4s ease-in-out infinite;
}

@keyframes logoGlow {
  0%, 100% {
    filter: drop-shadow(0 0 20px rgba(255, 107, 53, 0.6));
  }
  50% {
    filter: drop-shadow(0 0 30px rgba(255, 107, 53, 0.8)) brightness(1.05);
  }
}

/* Hover Effects */
.animated-flame-container:hover .animated-flame-logo {
  transform: scale(1.05);
  filter: drop-shadow(0 0 35px rgba(255, 107, 53, 0.9));
}

.animated-flame-container:hover .flame-main {
  animation-duration: 2s, 2.5s, 1.5s;
}

.animated-flame-container:hover .flame-middle {
  animation-duration: 1.8s, 2.2s, 2s;
}

.animated-flame-container:hover .flame-small {
  animation-duration: 1.3s, 1.8s, 2.3s;
}

/* Performance optimizations */
.flame-main, 
.flame-middle, 
.flame-small {
  will-change: transform, opacity, filter;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

.animated-flame-logo {
  will-change: transform, filter;
  backface-visibility: hidden;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .animated-flame-logo {
    filter: drop-shadow(0 0 15px rgba(255, 107, 53, 0.5));
  }
  
  .flame-main {
    animation-duration: 3.2s, 4s, 2.5s;
  }
  
  .flame-middle {
    animation-duration: 2.7s, 3.5s, 3s;
  }
  
  .flame-small {
    animation-duration: 2.2s, 3s, 3.7s;
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .flame-main,
  .flame-middle,
  .flame-small {
    animation: none;
  }
  
  .animated-flame-logo {
    animation: none;
  }
}